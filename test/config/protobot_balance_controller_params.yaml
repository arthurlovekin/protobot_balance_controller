test_protobot_balance_controller:
  ros__parameters:
    type: protobot_balance_controller/ProtobotBalanceController
    command_interfaces: ["linear_velocity_x", "angular_velocity_z"]
    # TODO: should I be able to customize reference interfaces? 
    # Input is linear_throttle and angular_velocity_z

    # PID parameters
    kp: 1.0
    ki: 0.0
    kd: 0.0

    # the pitch of the robot when it is at its balancing point. 
    # This is a function of the center of mass. 
    pitch_0_degrees: 30.0

    # linearly scales the input linear velocity (m/s) into an 
    # angle (degrees) that gets added to pitch_0_degrees to determine the setpoint. 
    setpoint_scale: 1.0

    # If the pitch of the robot exceeds this threshold, 
    # then switch to balance-mode. Otherwise, stay in diff-drive mode.
    pitch_threshold_degrees: 0.0

    # Scale the angular velocity down by a constant factor
    angular_velocity_scale: 1.0

    # Timeout to consider cmd_vel commands old
    cmd_vel_timeout_seconds: 0.5 
